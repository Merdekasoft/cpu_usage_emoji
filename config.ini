[bar/mybar]
width = 100%
height = 24
modules-left = cpu
background = #222222
foreground = #ffffff
font-0 = "Noto Sans:size=10"
font-1 = "FontAwesome:size=10"

[module/cpu]
type = custom/script
exec = bash -c '
  # Get CPU usage percentage
  cpu_usage=$(mpstat 1 1 | awk "/Average/ {printf \"%d\", 100 - \$12}")

  # Assign emojis based on CPU usage ranges
  if [ \"$cpu_usage\" -lt 10 ]; then
      emoji=\"😄\"  # Very low CPU usage, happy
  elif [ \"$cpu_usage\" -lt 30 ]; then
      emoji=\"😊\"  # Low CPU usage, smiling
  elif [ \"$cpu_usage\" -lt 50 ]; then
      emoji=\"🙂\"  # Medium CPU usage, neutral
  elif [ \"$cpu_usage\" -lt 70 ]; then
      emoji=\"😐\"  # Slightly high CPU usage, meh
  elif [ \"$cpu_usage\" -lt 90 ]; then
      emoji=\"😟\"  # High CPU usage, worried
  else
      emoji=\"😡\"  # Very high CPU usage, angry
  fi

  # Output the emoji and CPU usage percentage
  echo \"$emoji $cpu_usage%\"
'
interval = 2  # Refresh every 2 seconds
label = %output%
